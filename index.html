<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programs</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Nunito&display=swap");
      body {
        color: rgb(209, 208, 197);
        background-color: rgb(50, 52, 55);
        font-family: "Nunito", sans-serif;
        margin-top: 20px;
        margin-left: 20px;
      }

      .program {
        margin-bottom: 20px;
      }

      .copy-btn {
        padding: 5px 10px;
        background-color: rgb(226, 183, 20);
        color: rgb(50, 52, 55);
        border: none;
        border-radius: 20px;
        cursor: pointer;
      }
      .copy-btn:active {
        background-color: rgb(50, 52, 55);
        color: rgb(226, 183, 20);
      }
    </style>
  </head>
  <body>
    <div class="program-list">
      <div class="program">
        <h4>1. Best Fit straight line</h4>
        <button class="copy-btn" onclick="copyToClipboard(bestfit)">cop</button>
      </div>
      <div class="program">
        <h4>2. Second degree Parabola</h4>
        <button class="copy-btn" onclick="copyToClipboard(seconddeg)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>3. Karl Pearson's</h4>
        <button class="copy-btn" onclick="copyToClipboard(karlpearson)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>4. One way Anova</h4>
        <button class="copy-btn" onclick="copyToClipboard(oneanova)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>5. Spearman's</h4>
        <button class="copy-btn" onclick="copyToClipboard(spearman)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>6. Two Way Anova</h4>
        <button class="copy-btn" onclick="copyToClipboard(twoanova)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>7. Multi linear Regression</h4>
        <button class="copy-btn" onclick="copyToClipboard(twoanova)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>8. Multi Variate Regression</h4>
        <button class="copy-btn" onclick="copyToClipboard(multiv)">cop</button>
      </div>
      <div class="program">
        <h4>9. Multi Variate analysis</h4>
        <button class="copy-btn" onclick="copyToClipboard(multivanal)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>10. discriminent analysis</h4>
        <button class="copy-btn" onclick="copyToClipboard(discrim)">cop</button>
      </div>
      <div class="program">
        <h4>11. component analysis</h4>
        <button class="copy-btn" onclick="copyToClipboard(companal)">
          cop
        </button>
      </div>
      <div class="program">
        <h4>12. factor analysis</h4>
        <button class="copy-btn" onclick="copyToClipboard(factanal)">
          cop
        </button>
      </div>
    </div>
    <script>
      const multivanal = "o";
      const discrim = " h";
      const companal = "e";
      const factanal = "l";
      const bestfit = `import numpy as np
import matplotlib.pyplot as plt
def lenth(n):
    c=0
    for i in n:
        c+=1
    return c


def c_mean(n):
    total = 0
    for num in n:
        total += num
    meann = total / lenth(n)
    return meann
def c_sum(n):
    total = 0
    for num in n:
        total += num
    return total
x = np.array([1, 2, 3, 4, 6,8])
y = np.array([2.4, 3, 3.6, 4,5, 6])

x_mean = c_mean(x)
y_mean = c_mean(y)

b= c_sum((x - x_mean) * (y - y_mean)) / c_sum((x - x_mean) ** 2)

a = y_mean - b* x_mean


plt.scatter(x, y, color='b', label='Data Points')

plt.plot(x, b*x + a, color='r', label='Best Fit Line')

plt.xlabel('x')
plt.ylabel('y')
`;
      const seconddeg = `import numpy as np
import matplotlib.pyplot as plt
from sympy import symbols, Eq, solve

def get_data_input():
    x_data = np.array([int(i) for i in input("Enter the x data: ").split()])
    y_data = np.array([int(i) for i in input("Enter the y data: ").split()])
    return x_data, y_data

def calculate_coefficients(x_data, y_data):
    n = len(x_data)
    sx = np.sum(x_data)
    sy = np.sum(y_data)
    sx2 = np.sum(x_data * x_data)
    sxy = np.sum(x_data * y_data)
    sx3 = np.sum(x_data * x_data * x_data)
    sx4 = np.sum(x_data ** 4)
    sx2y = np.sum(x_data * x_data * y_data)
    
    a, b, c = symbols('a b c')
    eq1 = Eq((n * a + sx * b + sx2 * c), sy)
    eq2 = Eq((a * sx + sx2 * b + sx3 * c), sxy)
    eq3 = Eq((a * sx2 + sx3 * b + sx4 * c), sx2y)
    
    coefficients = solve((eq1, eq2, eq3), (a, b, c))
    return coefficients[a], coefficients[b], coefficients[c]

def plot_parabola(x_data, y_data, a, b, c):
    plt.scatter(x_data, y_data)
    x_values = np.linspace(min(x_data), max(x_data), 100)
    y_values = a + b * x_values + c * x_values**2
    plt.plot(x_values, y_values, color='red')
    plt.xlabel('X')
    plt.ylabel('Y')
    plt.title('Parabolic Regression')
    plt.show()

def main():
    x_data, y_data = get_data_input()
    a, b, c = calculate_coefficients(x_data, y_data)
    print("The equation of parabola is y = {} + {}X + {}X^".format(a, b, c))
    plot_parabola(x_data, y_data, a, b, c)

if __name__ == "__main__":
    main()
`;
      const karlpearson = `import numpy as np
import matplotlib.pyplot as plt
def lenth(n):
    c=0
    for i in n:
        c+=1
    return c


def c_mean(n):
    total = 0
    for num in n:
        total += num
    meann = total / lenth(n)
    return meann
def c_sum(n):
    total = 0
    for num in n:
        total += num
    return total

x = np.array([3,7,4,2,0,4,1,2])
y = np.array([11,18,9,4,7,6,3,8])

x_mean = c_mean(x)
print("mean of x is",x_mean)
y_mean = c_mean(y)
print("mean of y is",y_mean)

cov=(c_sum((x - x_mean) * (y - y_mean)))/lenth(x)
print(cov)
sig_x=((c_sum((x - x_mean)**2))/lenth(x))**0.5
print(sig_x)
sig_y=((c_sum((y - y_mean)**2))/lenth(y))**0.5
print(sig_y)
r=cov/(sig_x * sig_y)
print("correlation coefficient is",r)
`;
      const spearman = `import pandas as pd
import numpy as np
from collections import Counter

def calculate_modified_di(x, y):
    d1 = Counter(x)
    cf = 0
    d2 = Counter(y)
    for i in d1:
        if d1[i] > 1:
            cf += d1[i] * (d1[i] * d1[i] - 1) / 12
    for i in d2:
        if d2[i] > 1:
            cf += d2[i] * (d2[i] * d2[i] - 1) / 12
    return cf

def calculate_spearman_correlation_coefficient(x, y):
    df_x = pd.DataFrame(x)
    rx = df_x.rank()[0].to_numpy()
    df_y = pd.DataFrame(y)
    ry = df_y.rank()[0].to_numpy()
    D = rx - ry
    di2 = np.sum(D * D) + calculate_modified_di(x, y)
    n = len(x)
    cc = 1 - (6 * di2 / (n * (n * n - 1)))
    return cc

def display_results(x, y, rx, ry, D):
    results = pd.DataFrame({"X": x, "Y": y, "Rₓ": rx, "Rᵧ": ry, "D": D, "D&#178;": D * D})
    print(results.to_string(index=False))

def main():
    x = np.array(list(map(float, input("Enter X values: ").split())))
    y = np.array(list(map(float, input("Enter Y values: ").split())))
    df_x = pd.DataFrame(x)
    rx = df_x.rank()[0].to_numpy()
    df_y = pd.DataFrame(y)
    ry = df_y.rank()[0].to_numpy()
    D = rx - ry
    display_results(x, y, rx, ry, D)
    correlation_coefficient = calculate_spearman_correlation_coefficient(x, y)
    print("Spearman's Correlation Coefficient =", round(correlation_coefficient, 4))

if __name__ == "__main__":
    main()
`;
      const twoanova = `import pandas as pd
import scipy.stats as se

def calculate_SS_and_F_values(t, h, k, alpha):
    Ti = Bj = G = RSS = N = 0

    for i in t:
        Ti += sum(i) * sum(i)
        G += sum(i)
    
    for i in range(len(t[0])):
        position_sum = sum(sublist[i] for sublist in t)
        Bj += position_sum ** 2
    
    for i in t:
        for j in i:
            RSS += j * j
            N += 1
            
    CF = round(G * G / N, 2)
    SST = round(RSS - CF, 2)
    SStr = round(Ti / h - CF, 2)
    SSb = round(Bj / k - CF, 2)
    SSe = round(SST - SStr - SSb, 2)
    
    Ftr = round((SStr / (k - 1)) / (SSe / ((k - 1) * (h - 1))), 3)
    Fb = round((SSb / (h - 1)) / (SSe / ((k - 1) * (h - 1))), 3)
    
    return SStr, SSb, SSe, SST, Ftr, Fb

def generate_summary_table(SStr, SSb, SSe, SST, k, h, alpha, Ftr, Fb):
    data = {
        "Source of Variation": ["Treatments", "Blocks", "Error", "Total"],
        'Sum of Squares': [SStr, SSb, SSe, SST],
        'DOF': [k - 1, h - 1, (h - 1) * (k - 1), k * h - 1],
        'Mean Sum of Squares': [round(SStr / (k - 1), 2), round(SSb / (h - 1), 2), round(SSe / ((k - 1) * (h - 1)), 2), "-"],
        'Variance Ratio': ["-", Ftr, Fb, "-"]
    }
    df = pd.DataFrame(data)
    print(df.to_string(index=False))
    return Ftr, Fb

def inference(Ftr, Fb, k, h, alpha):
    if Ftr > 1:
        Ftabtr = round(se.f.ppf(q=1 - alpha, dfn=k - 1, dfd=(k - 1) * (h - 1)), 2)
    else:
        Ftabtr = round(se.f.ppf(q=1 - alpha, dfn=(k - 1) * (h - 1), dfd=k - 1), 2)
    
    print("\n---Inference related to Treatments---")
    print("F calculated value =", Ftr, "\nF table value =", Ftabtr)
    if Ftr < Ftabtr:
        print("Since Fcal.<Ftable value, We accept H₀(tr).")
    else:
        print("Since Fcal.>Ftable value, We reject H₀(tr).")
    
    if Fb > 1:
        Ftabb = round(se.f.ppf(q=1 - alpha, dfn=h - 1, dfd=(k - 1) * (h - 1)), 2)
    else:
        Ftabb = round(se.f.ppf(q=1 - alpha, dfn=(k - 1) * (h - 1), dfd=h - 1), 2)
    
    print("\n---Inference related to Blocks---")
    print("F calculated value =", Fb, "\nF table value =", Ftabb)
    if Fb < Ftabb:
        print("Since Fcal.<Ftable value, We accept H₀(b).")
    else:
        print("Since Fcal.>Ftable value, We reject H₀(b).")


def main():
    h = int(input("Enter no. of Blocks: "))
    k = int(input("Enter no. of Treatments: "))
    t = []
    for i in range(k):
        t.append(list(map(int, input("Enter treatment(s): ").split())))
    
    alpha = float(input("Enter Level of Significance: "))
    
    SStr, SSb, SSe, SST, Ftr, Fb = calculate_SS_and_F_values(t, h, k, alpha)
    df = generate_summary_table(SStr, SSb, SSe, SST, k, h, alpha, Ftr, Fb)
    inference(Ftr, Fb, k, h, alpha)

if __name__ == "__main__":
    main()

`;
      const mutli = `import numpy as np
import pandas as pd
import scipy.stats as se

def transpose(A):
 r=len(A)
 c=len(A[0])
 s=[]
 for i in range(0,c):
  n=[]
  for j in range(0,r):
    n.append(A[j][i])
  s.append(n)
 return s
#matrix multiplication
def multiplication(A,B):
 res=[]
 r1=len(A)
 c2=len(B[0])
 for i in range(r1):
  k=[]
  for j in range(c2):
    k.append(0)
  res.append(k)
 for i in range(len(A)):
  for j in range(len(B[0])):
    for k in range(len(B)):
      res[i][j]=res[i][j]+A[i][k]*B[k][j]
 return res
#matrix inverse
def getMinor(m,i,j):
 return [row[:j] + row[j+1:] for row in (m[:i]+m[i+1:])]
def getDeternminant(m):
 #base case for 2x2 matrix
 if len(m) == 2:
  return m[0][0]*m[1][1]-m[0][1]*m[1][0]
 determinant = 0
 for c in range(len(m)):
  determinant += ((-1)**c)*m[0][c]*getDeternminant(getMinor(m,0,c))
 return determinant
def inverse(m):
 determinant = getDeternminant(m)
 #special case for 2x2 matrix:
 if len(m) == 2:
  return [[m[1][1]/determinant, -1*m[0][1]/determinant],
 [-1*m[1][0]/determinant, m[0][0]/determinant]]
 #find matrix of cofactors
 cofactors = []
 for r in range(len(m)):
  cofactorRow = []
  for c in range(len(m)):
    minor = getMinor(m,r,c)
 cofactorRow.append(((-1)**(r+c)) * getDeternminant(minor))
 cofactors.append(cofactorRow)
 cofactors = transpose(cofactors)
 for r in range(len(cofactors)):
  for c in range(len(cofactors)):
    cofactors[r][c] = cofactors[r][c]/determinant
 return cofactors
 

alpha = float(input("Enter Level of Significance: "))
y = np.array(list(map(int, input("Enter Dependent Variable Values(Y): ").split())))
n = int(input("Enter num. of Independent Variables: "))
N = len(y)
x = []
temp = []
t = [1] * len(y)
x.append(t)

for i in range(n):
    u = list(map(int, input("Enter Independent Variables Values(X values): ").split()))
    x.append(u)
    temp.append(u)

temp = np.array(temp)
x = np.array(x)
x = np.transpose(x)
y = np.transpose(y)
beta = np.dot(np.linalg.inv(np.dot(transpose(x), x)), np.dot(transpose(x), y))

print("Y = ", end="", sep="")
for i in range(len(beta)):
    if i == len(beta) - 1:
        print(round(beta[i], 4), "X", i, end="\n", sep="")
    else:
        print(round(beta[i], 4), "X", i, " + ", end="", sep="")

ycap = []
for i in range(len(y)):
    ycap.append(beta[0] + temp[0][i] * beta[1] + temp[1][i] * beta[2])

sigma = y - ycap
SSe = SST = 0
for i in range(len(sigma)):
    SSe += round(sigma[i] * sigma[i], 2)
    SST += round((y[i] - np.mean(y)) ** 2, 2)

SSr = SST - SSe
R2 = round(SSr / SST, 2)
print("R² value is:", R2)

if R2 > 0.9:
    print("The Model is a Good Fit.")
else:
    print("The Model is Not a Good Fit.")

n = n + 1
F = round((SSr / (n - 1)) / (SSe / (N - n)), 3)
data = {
    "Source of Variation": ["Regression", "Error", "Total"],
    'Sum of Squares': [SSr, SSe, SST],
    'DOF': [n - 1, N - n, N - 1],
    'Mean Sum of Squares': [round(SSr / (n - 1), 2), round(SSe / (N - n), 2), "-"],
    'Variance Ratio': ["-", F, "-"]
}
df = pd.DataFrame(data).to_string(index=False)
print(df)

if F > 1:
    Ftab = round(se.f.ppf(q=1 - alpha, dfn=n - 1, dfd=N - n), 2)
else:
    F = round(1 / F, 2)
    Ftab = round(se.f.ppf(q=1 - alpha, dfn=N - n, dfd=n - 1), 2)

print("F calculated value =", F, "\nF table value =", Ftab)

if F < Ftab:
    print("Since Fcal.<Ftable value, We accept H₀.")
else:
    print("Since Fcal.>Ftable value, We reject H₀.")
`;
      const multiv = `import numpy as np

def get_user_input(prompt):
    return list(map(float, input(prompt).split()))

def calculate_beta(x, y):
    x_transpose = np.transpose(x)
    inv_x_dot_x_transpose = np.linalg.inv(np.dot(x_transpose, x))
    beta = np.dot(np.dot(inv_x_dot_x_transpose, x_transpose), y)
    return beta
    
def print_regression_equation(beta):
    y_expressions = []
    for i, coefficients in enumerate(beta):
        expression = "Y{} = ".format(i + 1)
        for j, coef in enumerate(coefficients):
            expression += " {}X{} +".format(coef, j + 1)
        y_expressions.append(expression[:-2])  # remove the extra '+' and space
    for expression in y_expressions:
        print(expression)

def main():
    y = []
    x = []
    n1 = int(input("Enter num. of Dependent Variables(Y's): "))
    n2 = int(input("Enter num. of Independent Variables(X's): "))

    for i in range(n1):
        y.append(get_user_input("Y{}: ".format(i + 1)))
    x.append([1] * len(y[0]))

    for i in range(n2):
        x.append(get_user_input("X{}: ".format(i + 1)))

    x = np.array(x)
    y = np.array(y)

    beta = calculate_beta(x, y)
    beta = np.round(beta, decimals=2)
    print_regression_equation(beta)

if __name__ == "__main__":
    main()

`;
      const oneanova = `#5th
import numpy as np
import scipy.stats as sp
def add(lst):
    total = 0
    for item in lst:
        total += item
    return total
def leng(lst):
    length = 0
    for _ in lst:
        length += 1
    return length
alpha = float(input("Enter the level of significance"))
n = int(input("Enter number of treatments: "))
anova = []
G = 0
N=0
Tss=0
T1 = []
T2 = []
for i in range(n):
    l = list(map(float, input("Enter value :").split()))
    T1.append(add(l))
    N += leng(l)
    anova.append(l)
G = add(T1)
for i in range(n):
    T2.append((add(anova[i])** 2)/leng(anova[i]))
cf = G ** 2 / N
sst = add(T2) - cf
for l in anova:
    for j in l:
        Tss += j ** 2
sstr = Tss - cf
print("Treatment sum of squares:", sst)
E = sstr - sst
print("Error sum of squares:", E)
print("Total sum of squares:", sstr)
t1 = sst / (n - 1)
e1 = E / (N - n)
fcal = t1 / e1
print("f calculated value : ",fcal)
ftab = sp.f.ppf(1-alpha, n - 1, N - n)
ftab=round(ftab,2)
print("ftable value : ",ftab)
if fcal <= ftab:
    print("We accept H0")
else:
    print("We reject H0")`;

      function copyToClipboard(code) {
        navigator.clipboard.writeText(code).then(
          function () {
            console.log("Copied to clipboard successfully");
          },
          function (err) {
            console.error("Failed to copy: ", err);
          }
        );
      }
    </script>
  </body>
</html>
